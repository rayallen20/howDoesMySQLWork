# 1. 开启事务

可以使用以下2种语句来开启一个事务:

- `BEGIN [WORK]`

    ```
    BEGIN [WORK];
    ```

    `BEGIN`语句表示开启一个事务,后边的单词`WORK`可有可无.开启事务后,就可以继续写若干条语句,这些语句都属于刚刚开启的这个事务.

- `START TRANSACTION`

    ```
    START TRANSACTION;
    ```
    
    `START TRANSACTION`语句和`BEGIN`语句功效相同,都标志着开启一个事务.
    
    相较于`BEGIN`语句,`START TRANSACTION`语句后边跟随几个修饰符:

    - `READ ONLY`

        标识当前事务是一个只读事务.即:该事务中的数据库操作只能读取数据,而不能修改数据.
        注:只读事务中,只是不允许修改那些其他事务也能访问到的表中的数据,对于临时表来说(使用`CREATE TEMPORARY TABLE`语句创建的表),
        由于它们只能在当前会话中可见,所以只读事务其实是可以对临时表进行增/删/改操作的

    - `READ WRITE`

        标识当前事务是一个读写事务.即:该事务中的数据库操作既可以读取数据,也可以修改数据

    - `WITH CONSISTENT SNAPSHOT`

        启动一致性读(先不用管一致性读的含义,后边的内容会讲到)

    若要开启一个只读事务,把`READ ONLY`修饰符加在`START TRANSACTION`语句后面即可.例如:

    ```
    START TRANSACTION READ ONLY;
    ```

    若需要在`START TRANSACTION`语句后面跟随多个修饰符,需使用`,`将修饰符分开.例如:开启一个只读事务和一致性读

    ```
    START TRANSACTION READ ONLY, WITH CONSISTENT SNAPSHOT;
    ```

    开启一个读写事务和一致性读:

    ```
    START TRANSACTION READ WRITE, WITH CONSISTENT SNAPSHOT;
    ```
  
    注意:`READ ONLY`和`READ WRITE`用于设置事务访问模式,就是以只读还是读写的方式来访问数据库中的数据.
    一个事务的访问模式不能同时既设置为只读的也设置为读写的,所以不能同时把`READ ONLY`和`READ WRITE`放到`START TRANSACTION`语句后面.
    另外,若不显式指定事务访问模式,则该事务的事务访问模式为读写模式.
