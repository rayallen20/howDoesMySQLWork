# 3. 手动中止事务

若写了几条语句之后发现上边的某条语句写错了,则可以手动的使用下面这个语句,将数据库恢复到事务执行之前的状态:

```
ROLLBACK [WORK]
```

`ROLLBACK`语句表示中止并回滚一个事务,后边的`WORK`可有可无.例如,在写狗哥给猫爷转账10元钱对应的MySQL语句时,先给狗哥扣了10元,
然后一时大意只给猫爷账户上增加了1元,此时就可以使用`ROLLBACK`语句进行回滚,完整的过程如下:

```
mysql> BEGIN;
Query OK, 0 rows affected (0.00 sec)

mysql> UPDATE account SET balance = balance - 10 WHERE id = 1;
Query OK, 1 row affected (0.01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> UPDATE account SET balance = balance + 1 WHERE id = 2;
Query OK, 1 row affected (0.01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> ROLLBACK;
Query OK, 0 rows affected (0.00 sec)
```

注意: `ROLLBACK`语句是在手动回滚事务时使用的.如果事务在执行过程中遇到了某些错误而无法继续执行的话,大部分情况下会回滚失败的语句,
某些情况下会回滚整个事务(比如在发生死锁的情况下会回滚整个事务).
