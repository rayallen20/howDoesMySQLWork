# 5. Semi-join Materialization(半连接物化)

前文在讲物化表的提出时,提到过若IN子句中的子查询为不相关子查询,则该IN子查询可以进行物化,即:

- 先将IN子查询的结果集存储在一个临时表中
- 然后将外层查询的表与临时表进行连接查询

这种连接本质上也算是一种`semi-join`,只不过由于物化表中没有重复的记录(因为针对IN子句中的不相关子查询在物化的过程中会去重),
所以可以直接将子查询转为连接查询.

注意: 半连接物化的执行策略,是不违背之前说的"半连接与物化互斥"的.

在半连接物化过程中产生的临时表,只是半连接执行过程中的"候选值集合缓存",其作用是加速匹配,
而不是让它变成一个可单独参与查询优化和执行的"独立表源"(derived table).因此半连接物化的执行策略并不违背"半连接与物化互斥"这一原则.
