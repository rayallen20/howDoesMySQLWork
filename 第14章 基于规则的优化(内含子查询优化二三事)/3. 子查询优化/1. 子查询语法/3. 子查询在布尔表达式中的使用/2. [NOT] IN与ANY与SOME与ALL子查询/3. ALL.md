# 3. ALL

- `ALL`操作符: 主要用于子查询比较,表示**和子查询返回的所有值进行比较**
  - 只有当比较对所有值都为TRUE时,整个布尔表达式才为TRUE
  - 否则为FALSE

`ALL`与子查询组成的布尔表达式的格式如下:

```
操作数 comparison_operator ALL(子查询)
```

假设子查询返回一个值列表: `[v1, v2, v3, ...]`,则`操作数 comparison_operator ALL(子查询)`等价于:

```
(操作数 comparison_operator v1) AND (操作数 comparison_operator v2) AND (操作数 comparison_operator v3) ...
```

只有所有比较都成立,整个表达式才为TRUE.

例如:

```
mysql> SELECT *
    -> FROM t1
    -> WHERE m1 > ALL(
    ->     SELECT m2
    ->     FROM t2
    -> );
Empty set (0.00 sec)
```

该查询的含义为: 对于`t1`表的每条记录的`m1`列的值来说,若子查询`(SELECT m2 FROM t2)`的结果集中,
若该条记录的`m1`列的值大于子查询结果集中所有的值,则整个布尔表达式`m1 > ALL (SELECT m2 FROM t2)`的值为TRUE(即该条数据会出现在结果集中),
否则为FALSE(即该条数据不会出现在结果集中).
也就是说只有`m1`列的值大于子查询结果集中最大的值,整个表达式的结果才是TRUE.
所以该查询本质上等价于:

```
mysql> SELECT *
    -> FROM t1
    -> WHERE m1 > (
    ->     SELECT MAX(m2)
    ->     FROM t2
    -> );
Empty set (0.00 sec)
```
