# 10. UNCACHEABLE SUBQUERY和UNCACHEABLE UNION

UNCACHEABLE SUBQUERY在文档中的描述为: A subquery for which the result cannot be cached and must be re-evaluated for each row of the outer query

当子查询结果不可缓存(例如包含非确定性函数,如`RAND()`/`UUID()`)时,该子查询对应的`select_type`值为`UNCACHEABLE SUBQUERY`

例如:

```
mysql> EXPLAIN SELECT * FROM single_table WHERE id = (SELECT RAND() FROM single_table2 LIMIT 1);
+----+----------------------+---------------+------------+-------+---------------+----------+---------+------+------+----------+-------------+
| id | select_type          | table         | partitions | type  | possible_keys | key      | key_len | ref  | rows | filtered | Extra       |
+----+----------------------+---------------+------------+-------+---------------+----------+---------+------+------+----------+-------------+
|  1 | PRIMARY              | single_table  | NULL       | ALL   | NULL          | NULL     | NULL    | NULL | 9817 |   100.00 | Using where |
|  2 | UNCACHEABLE SUBQUERY | single_table2 | NULL       | index | NULL          | idx_key2 | 5       | NULL | 9942 |   100.00 | Using index |
+----+----------------------+---------------+------------+-------+---------------+----------+---------+------+------+----------+-------------+
2 rows in set, 1 warning (0.00 sec)
```
