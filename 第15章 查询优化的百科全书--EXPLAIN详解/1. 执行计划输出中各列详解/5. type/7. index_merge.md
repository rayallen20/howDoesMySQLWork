# 7. `index_merge`

[索引合并的访问方法介绍](https://github.com/rayallen20/howDoesMySQLWork/tree/main/%E7%AC%AC10%E7%AB%A0%20%E6%9D%A1%E6%9D%A1%E5%A4%A7%E8%B7%AF%E9%80%9A%E7%BD%97%E9%A9%AC--%E5%8D%95%E8%A1%A8%E8%AE%BF%E9%97%AE%E6%96%B9%E6%B3%95/8.%20%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/2.%20%E7%B4%A2%E5%BC%95%E5%90%88%E5%B9%B6)

一般情况下对于某个表的查询只能使用到一个索引,但在某些场景下可以使用:

- `Intersection`
- `Union`
- `Sort-Union`

这3种索引合并的方式来执行查询.

MySQL使用索引合并的方式来对某个表执行查询时,在执行计划中的体现:

```
mysql> EXPLAIN SELECT * FROM single_table WHERE key1 = 'a' OR key3 = 'a';
+----+-------------+--------------+------------+-------------+-------------------+-------------------+---------+------+------+----------+---------------------------------------------+
| id | select_type | table        | partitions | type        | possible_keys     | key               | key_len | ref  | rows | filtered | Extra                                       |
+----+-------------+--------------+------------+-------------+-------------------+-------------------+---------+------+------+----------+---------------------------------------------+
|  1 | SIMPLE      | single_table | NULL       | index_merge | idx_key3,idx_key1 | idx_key1,idx_key3 | 403,403 | NULL |    2 |   100.00 | Using union(idx_key1,idx_key3); Using where |
+----+-------------+--------------+------------+-------------+-------------------+-------------------+---------+------+------+----------+---------------------------------------------+
1 row in set, 1 warning (0.00 sec)
```

从执行计划的`type`列的值为`index_merge`可以看出,MySQL打算使用索引合并的方式来执行对`single_table`表的查询
