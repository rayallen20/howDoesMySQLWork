# 4. 文件系统对数据库的影响

因为MySQL的数据都是存储文件系统中的,因此就不得不受到文件系统的一些制约,这在数据库和表的命名/表的大小和性能方面有明显体现:

- 数据库名称和表名称不得超过文件系统所允许的最大长度

每个数据库都对应数据目录的一个子目录,数据库名称就是这个子目录的名称;
每个表都会在数据库子目录下产生一个和表名同名的`.ibd`文件(可能还有`.frm`文件).
这些目录或文件名的长度都受限于文件系统所允许的长度.

- 特殊字符的问题

为了避免因为数据库名和表名出现某些特殊字符而造成文件系统不支持的情况,MySQL会**把数据库名和表名中,所有除数字和拉丁字母以外的任何字符,
在文件中都映射成`@+编码值`的形式作为文件名**.
例如:创建的表的名称为`test?`,由于`?`不属于数字或者拉丁字母,因此会被映射成编码值.所以这个表对应的`.ibd`文件的名称就变成了`test@003f.ibd`

- 文件长度受文件系统最大长度限制

对于InnoDB的独立表空间来说,每个表的数据都会被存储到一个与表名同名的`.ibd 文件中`;
对于MyISAM存储引擎来说,数据和索引会分别存放到与表同名的`.MYD`和`.MYI`文件中.
这些文件会随着表中记录的增加而增大,它们的大小受限于文件系统支持的最大文件大小.

