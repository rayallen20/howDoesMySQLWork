# 1. 根据搜索条件,找出所有可能使用的索引

对于B+树索引来说,只要索引列和常数使用`=`/`<=>`(安全等于)/IN/NOT IN/IS NULL/IS NOT NULL/`>`/`<`/`>=`/`<=`/`BETWEEN`/`!=`(也可以写成`<>`)/LIKE,
就可以形成扫描区间(LIKE要求匹配字符串前缀才能形成扫描区间).也就是说,这些搜索条件都可能使用到索引,
MySQL的设计者把**一个查询中可能使用到的索引称为`possible keys`**.

这里再贴一下查询语句:

```sql
SELECT *
FROM single_table
WHERE
    key1 IN ('a', 'b', 'c')
AND
    key2 > 10
AND
    key2 < 1000
AND
    key3 > key2
AND
    key_part1 LIKE '%hello%'
AND
    common_field = '123';
```

分析该查询中涉及到的几个搜索条件:

- `key1 IN ('a', 'b', 'c')`: 这个搜索条件可以使用二级索引`idx_key1`
- `key2 > 10 AND key2 < 1000`: 这个搜索条件可以使用二级索引`uk_key2`
- `key3 > key2`: 这个搜索条件的索引列由于没有与常数进行比较,所以不能产生合适的扫描区间
- `key_part1 LIKE '%hello%'`: `key_part1`通过LIKE操作符与以通配符开头的字符串进行比较,不能产生合适的扫描区间
- `common_field = '123'`: 由于该列上根本没有索引,所以不会用到索引

综上所述,该查询语句可能用到的索引(也就是`possible keys`)只有`idx_key1`和`uk_key2`.
