# 0. 前言

在第1章时提到过,MySQL Server有一个称为查询优化器的模块,MySQL Server在对一条语句进行语法解析之后,
就会将这条语句交给给查询优化器来进行优化,优化的结果就是生成一个执行计划.该执行计划表明:

- 应该使用哪些索引进行查询
- 表之间的连接顺序是什么
- 等等


最后会按照执行计划中的步骤调用存储引擎提供的接口来真正的执行查询,并将查询结果返回给客户端,
本章主要讲解MySQL如何执行单表查询(就是FROM子句后边只有1个表).

之前的内容中,有一张表`single_table`,其结构如下:

```
mysql> CREATE TABLE single_table (
    ->     id INT NOT NULL AUTO_INCREMENT,
    ->     key1 VARCHAR(100),
    ->     key2 INT,
    ->     key3 VARCHAR(100),
    ->     key_part1 VARCHAR(100),
    ->     key_part2 VARCHAR(100),
    ->     key_part3 VARCHAR(100),
    ->     common_field VARCHAR(100),
    ->     PRIMARY KEY (id),
    ->     KEY idx_key1 (key1),
    ->     UNIQUE KEY uk_key2 (key2),
    ->     KEY idx_key3 (key3),
    ->     KEY idx_key_part (key_part1, key_part2, key_part3)
    -> ) ENGINE=InnoDB CHARSET=utf8mb4;
Query OK, 0 rows affected (0.02 sec)
```

在`single_table`表中,建立了1个聚簇索引和4个二级索引,分别是:

- `id`列的聚簇索引
- `key1`列的二级索引`idx_key1`
- `key2`列的唯一二级索引`uk_key2`
- `key3`列的二级索引`idx_key3`
- `key_part1`/`key_part2`/`key_part3`列的二级索引`idx_key_part`,注意这是一个联合索引

且该表中插入了10000条数据.
