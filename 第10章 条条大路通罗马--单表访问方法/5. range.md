# 5. `range`

- `range`: "使用索引执行查询时,对应的扫描区间为若干个单点扫描区间或者范围扫描区间"的访问方法称为`range`
  - 仅包含1个单点扫描区间的访问方法不能称为`range`访问方法(这种更有可能是`const`访问方法)
  - 扫描区间为`(-∞, +∞)`的访问方法不能称为`range`访问方法(这种更有可能是`all`访问方法)

例如:

```sql
SELECT *
FROM single_table
WHERE key2 IN (1438, 6328)
OR (key2 >= 38 AND key2 <= 79);
```

如果使用`uk_key2`执行该查询,则对应的扫描区间为:`key2 ∈ [1438, 1438] ∪ [6328, 6328] ∪ [38, 79]`,
即2个单点扫描区间和1个范围扫描区间的并集,因此该访问方法称为`range`访问方法(扫描了多个区间).

该查询语句的执行计划如下:

```
mysql> DESC SELECT *
    -> FROM single_table
    -> WHERE key2 IN (1438, 6328)
    -> OR (key2 >= 38 AND key2 <= 79);
+----+-------------+--------------+------------+-------+---------------+---------+---------+------+------+----------+-----------------------+
| id | select_type | table        | partitions | type  | possible_keys | key     | key_len | ref  | rows | filtered | Extra                 |
+----+-------------+--------------+------------+-------+---------------+---------+---------+------+------+----------+-----------------------+
|  1 | SIMPLE      | single_table | NULL       | range | uk_key2       | uk_key2 | 5       | NULL |   44 |   100.00 | Using index condition |
+----+-------------+--------------+------------+-------+---------------+---------+---------+------+------+----------+-----------------------+
```
